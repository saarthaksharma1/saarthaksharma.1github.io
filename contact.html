<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact — Saarthak Sharma</title>
  <link rel="stylesheet" href="assets/css/styles.css" />
<script src="assets/js/layout.js" defer></script>
<script src="assets/js/transitions.js" defer></script>
</head>
<body>
  <!-- NAVBAR (injected by layout.js) -->
  <div id="site-header"></div>

  <main class="container section page--contact">
    <h1 class="contact-title">Contact <span class="accent">Me</span></h1>
    <p class="contact-lede">
      Want to collaborate or just say hi? Send me a message—I'll get back to you soon.
    </p>

    <!-- Quick links -->
    <div class="icon-row contact-icons" aria-label="Quick links">
      <!-- Email -->
      <a class="icon-btn" href="mailto:sharm157@msu.edu" aria-label="Email Saarthak">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M3 6.75A2.75 2.75 0 0 1 5.75 4h12.5A2.75 2.75 0 0 1 21 6.75v10.5A2.75 2.75 0 0 1 18.25 20H5.75A2.75 2.75 0 0 1 3 17.25V6.75zm2.75-.25a.75.75 0 0 0-.75.75v.36l7 4.19 7-4.2V7.25a.75.75 0 0 0-.75-.75H5.75zm13.5 3.1-6.4 3.84a1.5 1.5 0 0 1-1.5 0L5 9.6v7.65c0 .41.34.75.75.75h12.5c.41 0 .75-.34.75-.75V9.6z"/>
        </svg>
      </a>

      <!-- GitHub -->
      <a class="icon-btn" href="https://github.com/saarthaksharma1" target="_blank" rel="noopener" aria-label="GitHub">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 .5A11.5 11.5 0 0 0 .5 12c0 5.08 3.29 9.39 7.86 10.9.58.1.79-.25.79-.56v-2.1c-3.2.7-3.88-1.36-3.88-1.36-.52-1.31-1.28-1.66-1.28-1.66-1.05-.72.08-.7.08-.7 1.17.08 1.79 1.2 1.79 1.2 1.04 1.78 2.72 1.26 3.38.96.11-.76.41-1.26.75-1.55-2.56-.29-5.26-1.28-5.26-5.7 0-1.26.45-2.3 1.2-3.12-.12-.29-.52-1.46.11-3.04 0 0 .98-.31 3.21 1.19a11.18 11.18 0 0 1 5.85 0c2.23-1.5 3.21-1.19 3.21-1.19.63 1.58.23 2.75.12 3.04.75.82 1.2 1.86 1.2 3.12 0 4.43-2.7 5.4-5.28 5.69.42.37.8 1.09.8 2.2v3.26c0 .31.2.67.8.56A11.5 11.5 0 0 0 23.5 12 11.5 11.5 0 0 0 12 .5z"/>
        </svg>
      </a>

      <!-- LinkedIn -->
      <a class="icon-btn" href="https://www.linkedin.com/in/saarthaksharma1/" target="_blank" rel="noopener" aria-label="LinkedIn">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1 4.98 2.12 4.98 3.5zM.5 8.5h4V23h-4V8.5zM8 8.5h3.8v1.98h.05c.53-1 1.84-2.05 3.78-2.05 2.67 0 4.67 1.75 4.67 5.53V23h-4v-8.45c0-2.02-.72-3.4-2.52-3.4-1.37 0-2.18.92-2.54 1.81-.13.32-.16.76-.16 1.21V23h-4V8.5z"/>
        </svg>
      </a>
    </div>

    <!-- Contact card -->
    <section class="contact-card" aria-label="Contact form">
      <!-- NOTE: no action attribute; endpoint stored in data-endpoint -->
      <form class="contact-form" id="contactForm"
            data-endpoint="https://formspree.io/f/meolroeq"
            onsubmit="return handleContactSubmit(event)">
        <input type="hidden" name="_subject" value="New message from saarthaksharma.dev" />
        <input type="hidden" name="_replyto" value="" />
        <div style="position:absolute;left:-5000px" aria-hidden="true">
          <label>Leave this empty: <input type="text" name="_gotcha" tabindex="-1" /></label>
        </div>

        <div class="contact-grid">
          <div class="field">
            <label for="first">First Name</label>
            <input id="first" name="first" type="text" placeholder="Jane" required />
          </div>

          <div class="field">
            <label for="last">Last Name</label>
            <input id="last" name="last" type="text" placeholder="Doe" required />
          </div>

          <div class="field">
            <label for="email">Email Address</label>
            <input id="email" name="email" type="email" placeholder="janedoe@email.com" required />
          </div>

          <div class="field">
            <label for="phone">Phone Number</label>
            <input id="phone" name="phone" type="tel" placeholder="(123) 456-7890" />
          </div>

          <div class="field field--full">
            <label for="message">Your Message</label>
            <textarea id="message" name="message" rows="6" placeholder="Tell me about your project or question…" required></textarea>
          </div>
        </div>

        <button class="btn-primary" type="submit">Submit</button>
        <div id="formStatus" class="form-status" role="status" aria-live="polite" style="margin-top:.75rem"></div>
      </form>
    </section>
  </main>

  <!-- FOOTER (injected by layout.js) -->
  <div id="site-footer"></div>

  <!-- Inline handler to keep the page and show a pop-up -->
  <script>
    function handleContactSubmit(e) {
      e.preventDefault();                    // stop navigation
      const form   = e.target;
      const status = document.getElementById('formStatus');
      const url    = form.dataset.endpoint;

      status.textContent = 'Sending…';

      fetch(url, {
        method: 'POST',
        body: new FormData(form),
        headers: { 'Accept': 'application/json' }
      })
      .then(async (res) => {
        if (res.ok) {
          form.reset();
          status.textContent = 'Thanks! Your message has been sent.';
          alert('Successfully sent!');      // pop-up
          window.location.href = "contact.html"; // reload to contact page after OK
        } else {
          const json = await res.json().catch(() => ({}));
          const msg  = (json && json.errors && json.errors[0] && json.errors[0].message)
                        || 'Hmm, something went wrong. Please try again.';
          status.textContent = msg;
          alert(msg);
        }
      })
      .catch(() => {
        status.textContent = 'Network error. Please try again.';
        alert('Network error. Please try again.');
      });

      return false;                         // extra guard to prevent default submit
    }
  </script>

  <noscript>
    <style>.contact-form{display:none}</style>
    <p class="container">Please enable JavaScript to use the contact form.</p>
  </noscript>
</body>
</html>
